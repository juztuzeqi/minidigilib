<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>G4 English ¬∑ Monthly Assessment 1</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: #d0e2f2;
            font-family: 'Segoe UI', Roboto, -apple-system, sans-serif;
            padding: 10px 8px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }
        .paper {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 28px;
            box-shadow: 0 8px 25px rgba(0, 30, 60, 0.2);
            padding: 18px 14px;
        }
        h1 {
            font-size: 1.7rem;
            color: #123b54;
            margin: 0 0 2px 5px;
        }
        .sub {
            font-size: 0.9rem;
            color: #34675c;
            margin-left: 8px;
            margin-bottom: 15px;
        }
        .score-panel {
            background: #e2edfb;
            border-radius: 40px;
            padding: 12px 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px 10px;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            scroll-margin-top: 20px;
        }
        .score-item {
            background: white;
            border-radius: 30px;
            padding: 4px 14px;
            font-weight: 600;
            font-size: 0.9rem;
            color: #114b66;
            box-shadow: 0 1px 4px #b0c8dd;
        }
        .part {
            background: #f5faff;
            border-radius: 24px;
            padding: 18px 12px 22px;
            margin: 25px 0 18px;
            border: 1px solid #c0d6ed;
        }
        .part h2 {
            background: #205882;
            color: white;
            display: inline-block;
            padding: 5px 24px;
            border-radius: 40px;
            font-size: 1.3rem;
            margin-top: -34px;
            margin-bottom: 16px;
        }
        
        /* PART A - multiple choice grid */
        .grid-a {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .qcard {
            background: white;
            border-radius: 18px;
            padding: 12px 14px;
            border: 1px solid #d0e2f5;
            font-size: 0.95rem;
        }
        .qnum {
            font-weight: 700;
            color: #003f66;
            margin-right: 5px;
        }
        .stem {
            line-height: 1.4;
        }
        .ops {
            display: flex;
            flex-wrap: wrap;
            gap: 6px 12px;
            margin-top: 10px;
        }
        .ops label {
            background: #ecf3fc;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        .fb {
            margin-left: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .fb.correct { color: #1f8b4c; }
        .fb.wrong { color: #c13a3a; }

        /* Fill-in style - nomor tetap di atas */
        .fill-block {
            background: #fffcf0;
            border-radius: 24px;
            padding: 18px 16px;
            margin: 15px 0 10px;
            border: 2px solid #c0b28b;
        }
        
        .fill-item {
            margin: 20px 0;
            display: flex;
            align-items: flex-start;  /* Nomor tetap di atas */
            gap: 10px;
            flex-wrap: nowrap;
        }
        
        .fill-item .qnum {
            font-weight: 700;
            color: #003f66;
            min-width: 40px;
            font-size: 1rem;
            line-height: 1.5;
            flex-shrink: 0;
        }
        
        .fill-content {
            flex: 1;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 8px;
            line-height: 1.5;
        }
        
        .inline-input {
            display: inline-block;
            width: 100px;
            flex-shrink: 0;
        }
        
        .inline-input input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #5f8bb3;
            border-radius: 30px;
            font-size: 0.9rem;
            text-align: center;
            background: white;
        }
        
        .inline-input input.correct {
            background: #e3f7e3;
            border-color: #2a7f4a;
        }
        
        .options-hint {
            color: #5a6e7c;
            font-style: italic;
            font-size: 0.9rem;
            white-space: nowrap;
            margin-left: 5px;
        }
        
        .fill-feedback {
            font-weight: 700;
            font-size: 0.9rem;
            min-width: 70px;
            text-align: right;
            flex-shrink: 0;
        }
        
        .fill-feedback.correct { color: #1f8b4c; }
        .fill-feedback.wrong { color: #c13a3a; }
        
        .wordbank {
            background: #e0dcc0;
            padding: 12px 18px;
            border-radius: 40px;
            font-size: 0.95rem;
            font-weight: 600;
            display: flex;
            flex-wrap: wrap;
            gap: 8px 20px;
            border: 2px dashed #7f6e4e;
            margin-bottom: 20px;
        }
        
        .check-bottom {
            display: flex;
            justify-content: center;
            margin: 20px 0 8px;
        }
        .btn-large {
            background: #1e4e73;
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 60px;
            font-size: 1.3rem;
            font-weight: 700;
            width: 100%;
            max-width: 300px;
            cursor: pointer;
            box-shadow: 0 4px 10px #708090;
        }
        .btn-small {
            background: white;
            border: 1px solid #2c6085;
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="paper">
    <h1>üìò G4 Monthly Assessment 1</h1>
    <div class="sub">Grammar & Parts of the Face ‚Ä¢ Full English</div>

    <div class="score-panel" id="scorePanel">
        <span class="score-item">A <span id="scoreA">0</span>/20</span>
        <span class="score-item">B <span id="scoreB">0</span>/20</span>
        <span class="score-item">total <span id="scoreTotal">0</span>/40</span>
        <button class="btn-small" id="resetBtn">‚Ü∫ Reset</button>
    </div>

    <!-- PART A: GRAMMAR (20 soal) -->
    <div class="part">
        <h2>üîπ PART A ‚Äì GRAMMAR</h2>
        
        <!-- A.1 Multiple Choice (10) -->
        <div style="font-weight:600; margin:5px 0 15px;">A.1 Multiple Choice</div>
        <div class="grid-a" id="partAMC"></div>

        <!-- A.2 Pronouns (5 items) -->
        <div style="font-weight:600; margin:30px 0 15px;">A.2 Pronouns</div>
        <div class="fill-block" id="a2Container"></div>

        <!-- A.3 is/am/are/was/were (5 items) -->
        <div style="font-weight:600; margin:30px 0 15px;">A.3 is / am / are / was / were</div>
        <div class="fill-block" id="a3Container"></div>
    </div>

    <!-- PART B: VOCABULARY & VERBS (20 soal) -->
    <div class="part">
        <h2>üî∏ PART B ‚Äì VOCABULARY</h2>
        
        <!-- B.1 Parts of the Face (12 soal) dengan word bank -->
        <div style="font-weight:600; margin-bottom:15px;">B.1 Parts of the Face</div>
        
        <!-- Word Bank - 12 kata dari PDF -->
        <div class="wordbank">
            üìå WORD BANK: hair, eye, eyebrow, nose, cheek, mouth, lip, tooth, tongue, chin, ear, neck
        </div>
        
        <div class="fill-block" id="faceContainer"></div>
        
        <!-- B.2 Verb Agreement (8 soal) dengan petunjuk -->
        <div style="font-weight:600; margin:30px 0 15px;">B.2 Verb Agreement</div>
        <div class="fill-block" id="b1Container"></div>
    </div>

    <div class="check-bottom">
        <button class="btn-large" id="checkBtn">üîç Check Answers</button>
    </div>
</div>

<script>
    (function() {
        // ---------- PART A.1 Multiple choice (10 questions) ----------
        const mcqs = [
            { stem: "Choose the common noun.", opts: ["Mr Tan", "Nagoya", "Lenovo", "Teacher"], correct: 3 },
            { stem: "Choose the proper noun.", opts: ["Niko", "Teacher", "People", "House"], correct: 0 },
            { stem: "There are ... students in the classroom.", opts: ["much", "a little", "a", "many"], correct: 3 },
            { stem: "I drink ... water every day.", opts: ["much", "many", "a", "a few"], correct: 0 },
            { stem: "Father gave mother ... roses.", opts: ["much", "the", "a", "a few"], correct: 3 },
            { stem: "There is ... sugar in the milk.", opts: ["many", "the", "a little", "a"], correct: 2 },
            { stem: "Collective noun of 'soldiers'?", opts: ["A band of soldiers", "A bale of soldiers", "An army of soldiers", "An army of musicians"], correct: 2 },
            { stem: "Collective noun of 'flowers'?", opts: ["A bale of flowers", "A bouquet of flowers", "A broad of flowers", "A bundle of flowers"], correct: 1 },
            { stem: "This is Sharoon's book. It is ...", opts: ["Mine", "Yours", "His", "Hers"], correct: 3 },
            { stem: "That is our cat. The cat is ...", opts: ["Mine", "Yours", "His", "Ours"], correct: 3 }
        ];

        // A.2 Pronouns
        const a2Sentences = [
            { before: "The cat is playing. ", after: " is not eating.", correct: "It" },
            { before: "My brother is reading. ", after: " is not sleeping.", correct: "He" },
            { before: "I ", after: " a girl. My name is Rose.", correct: "am" },
            { before: "May I eat the cake? Yes ", after: " may.", correct: "you" },
            { before: "The children are playing. ", after: " are enjoying themselves.", correct: "They" }
        ];

        // A.3 is/am/are/was/were
        const a3Sentences = [
            { before: "My uncle ", after: " very old.", correct: "is" },
            { before: "My baby brother ", after: " very cute.", correct: "is" },
            { before: "I ", after: " sick yesterday.", correct: "was" },
            { before: "The children ", after: " studying for their exam last week.", correct: "were" },
            { before: "The kitten ", after: " eating their food when you called.", correct: "was" }
        ];

        // B.1 Parts of the Face (12 soal - lebih natural)
        const faceSentences = [
            { before: "üëÅÔ∏è We see with our ", after: " .", correct: "eye" },
            { before: "‚¨ÜÔ∏è Above the eye is the ", after: " .", correct: "eyebrow" },
            { before: "üëÉ We smell with our ", after: " .", correct: "nose" },
            { before: "üòä We have ", after: " on our face.", correct: "cheek" },
            { before: "üëÑ We speak with our ", after: " .", correct: "mouth" },
            { before: "üëÑ We have upper and lower ", after: " .", correct: "lip" },
            { before: "üòÅ I brush my ", after: " every day.", correct: "tooth" },
            { before: "üëÖ We taste with our ", after: " .", correct: "tongue" },
            { before: "üëá This is our ", after: " . (below mouth)", correct: "chin" },
            { before: "üëÇ We hear with our ", after: " .", correct: "ear" },
            { before: "üß£ We wear scarf around our ", after: " .", correct: "neck" },
            { before: "üíá We comb our ", after: " every morning.", correct: "hair" }
        ];

        // B.2 verb choice (8 items) dengan petunjuk
        const b1Sentences = [
            { before: "I ", after: " my mother.", hint: "(love / loves)", correct: "love" },
            { before: "My Dad teaches me to ", after: " the bicycle.", hint: "(ride / rides)", correct: "ride" },
            { before: "My baby brother ", after: " in the cot.", hint: "(sleep / sleeps)", correct: "sleeps" },
            { before: "Can I help you ", after: " a cake, Mother?", hint: "(bake / bakes)", correct: "bake" },
            { before: "I like to ", after: " with my cousins.", hint: "(play / plays)", correct: "play" },
            { before: "", after: " you going to the market?", hint: "(Are / Is)", correct: "Are" },
            { before: "We like to ", after: " the car.", hint: "(wash / washes)", correct: "wash" },
            { before: "They ", after: " the house every day.", hint: "(clean / cleans)", correct: "clean" }
        ];

        // Render MCQs
        const mcContainer = document.getElementById('partAMC');
        function renderMC() {
            let html = '';
            mcqs.forEach((q, idx) => {
                html += `<div class="qcard"><span class="qnum">Q${idx+1}.</span> <span class="stem">${q.stem}</span>
                    <div class="ops">`;
                q.opts.forEach((opt, optIdx) => {
                    html += `<label><input type="radio" name="mc${idx}" value="${optIdx}"> ${opt}</label>`;
                });
                html += `</div><span class="fb" id="fbMC${idx}"></span></div>`;
            });
            mcContainer.innerHTML = html;
        }
        renderMC();

        // Render fill items - dengan layout FIX (nomor di atas)
        function renderFillItems(containerId, sentences, prefix, showHint = false) {
            const container = document.getElementById(containerId);
            let html = '';
            sentences.forEach((s, idx) => {
                html += `<div class="fill-item">
                    <span class="qnum">Q${idx+1}.</span>
                    <div class="fill-content">
                        <span class="fill-text">${s.before}</span>
                        <span class="inline-input">
                            <input type="text" id="${prefix}_${idx}" placeholder="answer" autocomplete="off">
                        </span>
                        <span class="fill-text">${s.after}</span>
                        ${s.hint ? `<span class="options-hint">${s.hint}</span>` : ''}
                    </div>
                    <span class="fill-feedback" id="fb_${prefix}_${idx}"></span>
                </div>`;
            });
            container.innerHTML = html;
        }

        renderFillItems('a2Container', a2Sentences, 'a2');
        renderFillItems('a3Container', a3Sentences, 'a3');
        renderFillItems('faceContainer', faceSentences, 'face');
        renderFillItems('b1Container', b1Sentences, 'b1', true);

        // Fungsi scoring
        function hitungSkorDanScroll() {
            let skorA = 0;
            
            // MCQs (10)
            for (let i=0; i<10; i++) {
                const radios = document.getElementsByName(`mc${i}`);
                let selected = null;
                for (let r of radios) if (r.checked) { selected = r.value; break; }
                const fb = document.getElementById(`fbMC${i}`);
                if (selected !== null && parseInt(selected) === mcqs[i].correct) {
                    fb.innerText = '‚úì'; fb.className = 'fb correct'; skorA++;
                } else {
                    const benar = mcqs[i].opts[mcqs[i].correct];
                    fb.innerText = selected ? `‚úó (${benar})` : `(answer: ${benar})`;
                    fb.className = 'fb wrong';
                }
            }
            
            // A.2 (5)
            for (let i=0; i<5; i++) {
                const inp = document.getElementById(`a2_${i}`);
                const fb = document.getElementById(`fb_a2_${i}`);
                if (inp) {
                    const val = inp.value.trim();
                    const benar = a2Sentences[i].correct;
                    if (val.toLowerCase() === benar.toLowerCase()) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorA++;
                    } else {
                        fb.innerText = val ? `‚úó (${benar})` : `(answer: ${benar})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }
            
            // A.3 (5)
            for (let i=0; i<5; i++) {
                const inp = document.getElementById(`a3_${i}`);
                const fb = document.getElementById(`fb_a3_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = a3Sentences[i].correct;
                    if (val === benar.toLowerCase()) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorA++;
                    } else {
                        fb.innerText = val ? `‚úó (${benar})` : `(answer: ${benar})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }

            // PART B - Face (12)
            let skorB = 0;
            for (let i=0; i<12; i++) {
                const inp = document.getElementById(`face_${i}`);
                const fb = document.getElementById(`fb_face_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = faceSentences[i].correct;
                    if (val === benar.toLowerCase()) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorB++;
                    } else {
                        fb.innerText = val ? `‚úó (${benar})` : `(answer: ${benar})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }
            
            // B.2 (8)
            for (let i=0; i<8; i++) {
                const inp = document.getElementById(`b1_${i}`);
                const fb = document.getElementById(`fb_b1_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = b1Sentences[i].correct;
                    if (val === benar.toLowerCase()) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorB++;
                    } else {
                        fb.innerText = val ? `‚úó (${benar})` : `(answer: ${benar})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }

            document.getElementById('scoreA').innerText = skorA;
            document.getElementById('scoreB').innerText = skorB;
            document.getElementById('scoreTotal').innerText = skorA + skorB;

            document.getElementById('scorePanel').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function resetSemua() {
            // Reset MCQs
            for (let i=0; i<10; i++) {
                const radios = document.getElementsByName(`mc${i}`);
                radios.forEach(r => r.checked = false);
                document.getElementById(`fbMC${i}`).innerText = '';
            }
            
            // Reset all inputs
            for (let i=0; i<5; i++) {
                const inpA2 = document.getElementById(`a2_${i}`);
                if (inpA2) { inpA2.value = ''; inpA2.classList.remove('correct'); document.getElementById(`fb_a2_${i}`).innerText = ''; }
                const inpA3 = document.getElementById(`a3_${i}`);
                if (inpA3) { inpA3.value = ''; inpA3.classList.remove('correct'); document.getElementById(`fb_a3_${i}`).innerText = ''; }
            }
            for (let i=0; i<12; i++) {
                const inpFace = document.getElementById(`face_${i}`);
                if (inpFace) { inpFace.value = ''; inpFace.classList.remove('correct'); document.getElementById(`fb_face_${i}`).innerText = ''; }
            }
            for (let i=0; i<8; i++) {
                const inpB1 = document.getElementById(`b1_${i}`);
                if (inpB1) { inpB1.value = ''; inpB1.classList.remove('correct'); document.getElementById(`fb_b1_${i}`).innerText = ''; }
            }
            
            document.getElementById('scoreA').innerText = '0';
            document.getElementById('scoreB').innerText = '0';
            document.getElementById('scoreTotal').innerText = '0';
        }

        document.getElementById('checkBtn').addEventListener('click', hitungSkorDanScroll);
        document.getElementById('resetBtn').addEventListener('click', resetSemua);
    })();
</script>
</body>
</html>
