<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>G3 English ¬∑ Monthly Assessment 1</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: #d0e2f2;
            font-family: 'Segoe UI', Roboto, -apple-system, sans-serif;
            padding: 10px 8px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }
        .paper {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 28px;
            box-shadow: 0 8px 25px rgba(0, 30, 60, 0.2);
            padding: 18px 14px;
        }
        h1 {
            font-size: 1.7rem;
            color: #123b54;
            margin: 0 0 2px 5px;
        }
        .sub {
            font-size: 0.9rem;
            color: #34675c;
            margin-left: 8px;
            margin-bottom: 15px;
        }
        .score-panel {
            background: #e2edfb;
            border-radius: 40px;
            padding: 12px 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px 10px;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            scroll-margin-top: 20px;
        }
        .score-item {
            background: white;
            border-radius: 30px;
            padding: 4px 14px;
            font-weight: 600;
            font-size: 0.9rem;
            color: #114b66;
            box-shadow: 0 1px 4px #b0c8dd;
        }
        .part {
            background: #f5faff;
            border-radius: 24px;
            padding: 18px 12px 22px;
            margin: 25px 0 18px;
            border: 1px solid #c0d6ed;
        }
        .part h2 {
            background: #205882;
            color: white;
            display: inline-block;
            padding: 5px 24px;
            border-radius: 40px;
            font-size: 1.3rem;
            margin-top: -34px;
            margin-bottom: 16px;
        }
        
        /* PART A - multiple choice grid */
        .grid-a {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .qcard {
            background: white;
            border-radius: 18px;
            padding: 12px 14px;
            border: 1px solid #d0e2f5;
            font-size: 0.95rem;
        }
        .qnum {
            font-weight: 700;
            color: #003f66;
            margin-right: 5px;
        }
        .stem {
            line-height: 1.4;
        }
        .ops {
            display: flex;
            flex-wrap: wrap;
            gap: 6px 12px;
            margin-top: 10px;
        }
        .ops label {
            background: #ecf3fc;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        .fb {
            margin-left: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .fb.correct { color: #1f8b4c; }
        .fb.wrong { color: #c13a3a; }

        /* Fill-in style */
        .fill-block {
            background: #fffcf0;
            border-radius: 24px;
            padding: 18px 16px;
            margin: 15px 0 10px;
            border: 2px solid #c0b28b;
        }
        .fill-item {
            margin: 16px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        .fill-item .qnum {
            font-weight: 700;
            color: #003f66;
            min-width: 35px;
        }
        .sentence {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
            flex: 1;
        }
        .inline-input {
            display: inline-block;
            width: 100px;
        }
        .inline-input input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #5f8bb3;
            border-radius: 30px;
            font-size: 0.9rem;
            text-align: center;
            background: white;
        }
        .inline-input input.correct {
            background: #e3f7e3;
            border-color: #2a7f4a;
        }
        .fill-feedback {
            font-weight: 700;
            font-size: 0.9rem;
            min-width: 40px;
        }
        .fill-feedback.correct { color: #1f8b4c; }
        .fill-feedback.wrong { color: #c13a3a; }
        
        .wordbank {
            background: #e0dcc0;
            padding: 12px 18px;
            border-radius: 40px;
            font-size: 0.95rem;
            font-weight: 600;
            display: flex;
            flex-wrap: wrap;
            gap: 8px 20px;
            border: 2px dashed #7f6e4e;
            margin-bottom: 20px;
        }
        .wordbank-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            background: #e0dcc0;
            padding: 15px;
            border-radius: 24px;
            font-weight: 600;
            border: 2px dashed #7f6e4e;
            margin-bottom: 20px;
            text-align: center;
        }
        .wordbank-grid span {
            background: #f5f0d7;
            padding: 8px 5px;
            border-radius: 30px;
            border: 1px solid #9e8b5f;
        }
        
        .cloze-text {
            background: #fffcf0;
            border-radius: 20px;
            padding: 20px;
            font-size: 1rem;
            line-height: 2.5;
            border: 1px solid #e0d6b0;
        }
        
        .check-bottom {
            display: flex;
            justify-content: center;
            margin: 20px 0 8px;
        }
        .btn-large {
            background: #1e4e73;
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 60px;
            font-size: 1.3rem;
            font-weight: 700;
            width: 100%;
            max-width: 300px;
            cursor: pointer;
            box-shadow: 0 4px 10px #708090;
        }
        .btn-small {
            background: white;
            border: 1px solid #2c6085;
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="paper">
    <h1>üìò G3 Monthly Assessment 1</h1>
    <div class="sub">Grammar & Vocabulary ‚Ä¢ Full English</div>

    <div class="score-panel" id="scorePanel">
        <span class="score-item">A <span id="scoreA">0</span>/20</span>
        <span class="score-item">B <span id="scoreB">0</span>/10</span>
        <span class="score-item">total <span id="scoreTotal">0</span>/30</span>
        <button class="btn-small" id="resetBtn">‚Ü∫ Reset</button>
    </div>

    <!-- PART A: GRAMMAR (20 soal) -->
    <div class="part">
        <h2>üîπ PART A ‚Äì GRAMMAR</h2>
        
        <!-- A.1 Multiple Choice (10) -->
        <div style="font-weight:600; margin:5px 0 15px;">A.1 Multiple Choice</div>
        <div class="grid-a" id="partAMC"></div>

        <!-- A.2 Plural Nouns (5 items) -->
        <div style="font-weight:600; margin:30px 0 15px;">A.2 Plural Nouns</div>
        <div class="fill-block" id="a2Container"></div>

        <!-- A.3 Possessive Pronouns (5 items) -->
        <div style="font-weight:600; margin:30px 0 15px;">A.3 Possessive Pronouns</div>
        <div class="fill-block" id="a3Container"></div>
    </div>

    <!-- PART B: VOCABULARY & CLOZE (10 soal) -->
    <div class="part">
        <h2>üî∏ PART B ‚Äì EXERCISE</h2>
        
        <!-- B.1 Vocabulary - Meat (6 items) -->
        <div style="font-weight:600; margin-bottom:15px;">B.1 Types of Meat</div>
        
        <!-- Word Bank grid untuk B.1 -->
        <div class="wordbank-grid">
            <span>Beef</span> <span>Pork</span> <span>Turkey</span>
            <span>Mutton</span> <span>Chicken</span> <span>Duck</span>
        </div>
        
        <div class="fill-block" id="b1Container"></div>
        
        <!-- B.2 Cloze Passage (4 items) -->
        <div style="font-weight:600; margin:30px 0 15px;">B.2 Cloze Passage</div>
        
        <!-- Word Bank untuk B.2 -->
        <div class="wordbank">
            üìå WORD BANK: by, complex, part, was
        </div>
        
        <!-- Cloze Passage - Teks utuh dengan input inline -->
        <div class="fill-block">
            <div class="cloze-text">
                Last Saturday, Victor and his classmates took 
                <span class="inline-input" style="width:90px;">
                    <input type="text" id="b2_0" placeholder="(1)" autocomplete="off">
                </span> 
                in an art competition organized 
                <span class="inline-input" style="width:90px;">
                    <input type="text" id="b2_1" placeholder="(2)" autocomplete="off">
                </span> 
                the Ministry of Education. The competition 
                <span class="inline-input" style="width:90px;">
                    <input type="text" id="b2_2" placeholder="(3)" autocomplete="off">
                </span> 
                held at a Shopping 
                <span class="inline-input" style="width:90px;">
                    <input type="text" id="b2_3" placeholder="(4)" autocomplete="off">
                </span> 
                here.
            </div>
            <div style="display: flex; justify-content: flex-end; gap: 20px; margin-top: 15px; padding-right: 10px;">
                <span class="fill-feedback" id="fb_b2_0"></span>
                <span class="fill-feedback" id="fb_b2_1"></span>
                <span class="fill-feedback" id="fb_b2_2"></span>
                <span class="fill-feedback" id="fb_b2_3"></span>
            </div>
        </div>
    </div>

    <div class="check-bottom">
        <button class="btn-large" id="checkBtn">üîç Check Answers</button>
    </div>
</div>

<script>
    (function() {
        // ---------- PART A.1 Multiple choice (10 questions) ----------
        const mcqs = [
            { stem: "Choose the noun: The boys are playing.", opts: ["The", "Boys", "Are", "Playing"], correct: 1 },
            { stem: "Choose the noun: This is our school.", opts: ["This", "Is", "Our", "School"], correct: 3 },
            { stem: "The ... is crying.", opts: ["Shop", "Flower", "Ball", "Baby"], correct: 3 },
            { stem: "The ... sells cakes.", opts: ["Shop", "Flower", "Ball", "Chair"], correct: 0 },
            { stem: "Choose the proper noun: John has a pet dog.", opts: ["John", "Has", "Pet", "Dog"], correct: 0 },
            { stem: "Choose the common noun: Lily and Susan are sisters.", opts: ["Lily", "Susan", "Are", "Sisters"], correct: 3 },
            { stem: "What is the plural of 'Fox'?", opts: ["Foxs", "Foxes", "Fox", "Foxing"], correct: 1 },
            { stem: "What is the singular of 'loaves'?", opts: ["Loav", "Loaf", "Loafes", "Loave"], correct: 1 },
            { stem: "... is my father.", opts: ["I", "She", "They", "He"], correct: 3 },
            { stem: "Look at those animals. ... are sleeping.", opts: ["I", "She", "They", "He"], correct: 2 }
        ];

        // A.2 Plural Nouns (5 items)
        const a2Sentences = [
            { text: "How many ______ do you have? (finger)", correct: "fingers" },
            { text: "The ______ are playing on the slide. (child)", correct: "children" },
            { text: "The ______ are very beautiful. (butterfly)", correct: "butterflies" },
            { text: "There are three ______ in the basket. (shirt)", correct: "shirts" },
            { text: "The gardener is sweeping the ______. (leaf)", correct: "leaves" }
        ];

        // A.3 Possessive Pronouns (5 items)
        const a3Sentences = [
            { text: "Sharon gave me a book. The book is now ______ .", options: "(mine / hers)", correct: "mine" },
            { text: "This is John's pen. It is ______ .", options: "(its / his)", correct: "his" },
            { text: "This is my sister's room. Everything in this room is ______ .", options: "(her / hers / its)", correct: "hers" },
            { text: "This is my brother's study table. The books on it are ______ .", options: "(her / his / hers)", correct: "his" },
            { text: "My parents bought us a laptop. It is now ______ .", options: "(mine / our / ours)", correct: "ours" }
        ];

        // B.1 Vocabulary - Meat (6 items)
        const b1Sentences = [
            { text: "üêÑ Meat from cow: ______", correct: "Beef" },
            { text: "üêñ Meat from pig: ______", correct: "Pork" },
            { text: "ü¶É Meat from turkey: ______", correct: "Turkey" },
            { text: "üêë Meat from sheep: ______", correct: "Mutton" },
            { text: "üêî Meat from chicken: ______", correct: "Chicken" },
            { text: "ü¶Ü Meat from duck: ______", correct: "Duck" }
        ];

        // B.2 Cloze Passage - correct answers
        const b2Correct = ["part", "by", "was", "complex"];

        // Render MCQs
        const mcContainer = document.getElementById('partAMC');
        function renderMC() {
            let html = '';
            mcqs.forEach((q, idx) => {
                html += `<div class="qcard"><span class="qnum">Q${idx+1}.</span> <span class="stem">${q.stem}</span>
                    <div class="ops">`;
                q.opts.forEach((opt, optIdx) => {
                    html += `<label><input type="radio" name="mc${idx}" value="${optIdx}"> ${opt}</label>`;
                });
                html += `</div><span class="fb" id="fbMC${idx}"></span></div>`;
            });
            mcContainer.innerHTML = html;
        }
        renderMC();

        // Render fill items
        function renderFillItems(containerId, sentences, prefix, showOptions = false) {
            const container = document.getElementById(containerId);
            let html = '';
            sentences.forEach((s, idx) => {
                let optionsHtml = '';
                if (s.options) {
                    optionsHtml = `<span style="color:#5a6e7c; font-style:italic; margin-left:5px;">${s.options}</span>`;
                }
                
                if (s.text.includes('______')) {
                    const parts = s.text.split('______');
                    html += `<div class="fill-item">
                        <span class="qnum">Q${idx+1}.</span>
                        <div class="sentence">
                            <span>${parts[0]}</span>
                            <span class="inline-input">
                                <input type="text" id="${prefix}_${idx}" placeholder="type here" autocomplete="off">
                            </span>
                            <span>${parts[1] || ''}</span>
                            ${optionsHtml}
                        </div>
                        <span class="fill-feedback" id="fb_${prefix}_${idx}"></span>
                    </div>`;
                } else {
                    html += `<div class="fill-item">
                        <span class="qnum">Q${idx+1}.</span>
                        <div class="sentence">
                            <span>${s.text}</span>
                            <span class="inline-input">
                                <input type="text" id="${prefix}_${idx}" placeholder="type here" autocomplete="off">
                            </span>
                            ${optionsHtml}
                        </div>
                        <span class="fill-feedback" id="fb_${prefix}_${idx}"></span>
                    </div>`;
                }
            });
            container.innerHTML = html;
        }

        renderFillItems('a2Container', a2Sentences, 'a2');
        renderFillItems('a3Container', a3Sentences, 'a3', true);
        renderFillItems('b1Container', b1Sentences, 'b1');

        // Fungsi scoring
        function hitungSkorDanScroll() {
            let skorA = 0;
            
            // MCQs (10)
            for (let i=0; i<10; i++) {
                const radios = document.getElementsByName(`mc${i}`);
                let selected = null;
                for (let r of radios) if (r.checked) { selected = r.value; break; }
                const fb = document.getElementById(`fbMC${i}`);
                if (selected !== null && parseInt(selected) === mcqs[i].correct) {
                    fb.innerText = '‚úì'; fb.className = 'fb correct'; skorA++;
                } else {
                    const benar = mcqs[i].opts[mcqs[i].correct];
                    fb.innerText = selected ? `‚úó (${benar})` : `(answer: ${benar})`;
                    fb.className = 'fb wrong';
                }
            }
            
            // A.2 Plural Nouns (5)
            for (let i=0; i<5; i++) {
                const inp = document.getElementById(`a2_${i}`);
                const fb = document.getElementById(`fb_a2_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = a2Sentences[i].correct.toLowerCase();
                    if (val === benar) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorA++;
                    } else {
                        fb.innerText = val ? `‚úó (${a2Sentences[i].correct})` : `(answer: ${a2Sentences[i].correct})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }
            
            // A.3 Possessive Pronouns (5)
            for (let i=0; i<5; i++) {
                const inp = document.getElementById(`a3_${i}`);
                const fb = document.getElementById(`fb_a3_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = a3Sentences[i].correct.toLowerCase();
                    if (val === benar) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorA++;
                    } else {
                        fb.innerText = val ? `‚úó (${a3Sentences[i].correct})` : `(answer: ${a3Sentences[i].correct})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }

            // PART B.1 - Meat (6)
            let skorB = 0;
            for (let i=0; i<6; i++) {
                const inp = document.getElementById(`b1_${i}`);
                const fb = document.getElementById(`fb_b1_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = b1Sentences[i].correct.toLowerCase();
                    if (val === benar) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct'); skorB++;
                    } else {
                        fb.innerText = val ? `‚úó (${b1Sentences[i].correct})` : `(answer: ${b1Sentences[i].correct})`;
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }
            
            // B.2 Cloze Passage (4) - teks utuh
            for (let i=0; i<4; i++) {
                const inp = document.getElementById(`b2_${i}`);
                const fb = document.getElementById(`fb_b2_${i}`);
                if (inp) {
                    const val = inp.value.trim().toLowerCase();
                    const benar = b2Correct[i].toLowerCase();
                    if (val === benar) {
                        fb.innerText = '‚úì'; fb.className = 'fill-feedback correct'; inp.classList.add('correct');
                        skorB++;
                    } else {
                        fb.innerText = val ? '‚úó' : '?';
                        fb.className = 'fill-feedback wrong';
                        inp.classList.remove('correct');
                    }
                }
            }

            document.getElementById('scoreA').innerText = skorA;
            document.getElementById('scoreB').innerText = skorB;
            document.getElementById('scoreTotal').innerText = skorA + skorB;

            document.getElementById('scorePanel').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function resetSemua() {
            // Reset MCQs
            for (let i=0; i<10; i++) {
                const radios = document.getElementsByName(`mc${i}`);
                radios.forEach(r => r.checked = false);
                document.getElementById(`fbMC${i}`).innerText = '';
            }
            
            // Reset all inputs
            for (let i=0; i<5; i++) {
                const inpA2 = document.getElementById(`a2_${i}`);
                if (inpA2) { inpA2.value = ''; inpA2.classList.remove('correct'); document.getElementById(`fb_a2_${i}`).innerText = ''; }
                const inpA3 = document.getElementById(`a3_${i}`);
                if (inpA3) { inpA3.value = ''; inpA3.classList.remove('correct'); document.getElementById(`fb_a3_${i}`).innerText = ''; }
            }
            for (let i=0; i<6; i++) {
                const inpB1 = document.getElementById(`b1_${i}`);
                if (inpB1) { inpB1.value = ''; inpB1.classList.remove('correct'); document.getElementById(`fb_b1_${i}`).innerText = ''; }
            }
            for (let i=0; i<4; i++) {
                const inpB2 = document.getElementById(`b2_${i}`);
                if (inpB2) { inpB2.value = ''; inpB2.classList.remove('correct'); document.getElementById(`fb_b2_${i}`).innerText = ''; }
            }
            
            document.getElementById('scoreA').innerText = '0';
            document.getElementById('scoreB').innerText = '0';
            document.getElementById('scoreTotal').innerText = '0';
        }

        document.getElementById('checkBtn').addEventListener('click', hitungSkorDanScroll);
        document.getElementById('resetBtn').addEventListener('click', resetSemua);
    })();
</script>
</body>
</html>